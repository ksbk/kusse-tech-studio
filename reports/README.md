# Reports Directory

This directory contains automated reports generated by various development and security tools.

## 📊 Report Types

### Security Reports

#### `bandit-report.json`

- **Generated by**: Bandit security linter
- **Content**: Python security vulnerability analysis
- **Frequency**: On every pre-commit and CI/CD run
- **Format**: JSON with issue details, severity levels, and locations

#### `pip-audit-report.json`

- **Generated by**: pip-audit dependency scanner
- **Content**: Known vulnerabilities in Python dependencies
- **Frequency**: Daily via CI/CD, on-demand via pre-commit
- **Format**: JSON with CVE details, affected packages, and fix recommendations

#### `hadolint-report.json`

- **Generated by**: Hadolint Dockerfile linter
- **Content**: Dockerfile security and best practice violations
- **Frequency**: On Dockerfile changes via pre-commit
- **Format**: JSON with rule violations and suggestions

### Code Quality Reports

#### `coverage.xml`

- **Generated by**: pytest-cov coverage tool
- **Content**: Code coverage metrics for Python tests
- **Frequency**: On every test run in CI/CD
- **Format**: XML compatible with Codecov and other coverage services

#### `lighthouse-report.json`

- **Generated by**: Lighthouse performance audit
- **Content**: Performance, accessibility, SEO, and best practices scores
- **Frequency**: On deployment to staging/production
- **Format**: JSON with detailed metrics and recommendations

### Audit Logs

#### `dependency-audit.log`

- **Generated by**: Automated dependency update processes
- **Content**: Log of dependency changes, updates, and security patches
- **Frequency**: Weekly via Dependabot and manual updates
- **Format**: Plain text with timestamps and change details

#### `security-scan.log`

- **Generated by**: Comprehensive security scanning pipeline
- **Content**: Combined results from all security tools
- **Frequency**: Nightly security scans
- **Format**: Plain text with tool outputs and summaries

## 🔄 Report Generation

### Automated Generation

Reports are automatically generated by:

- **Pre-commit hooks**: Security and linting reports
- **CI/CD pipeline**: Coverage and comprehensive security reports
- **Scheduled workflows**: Nightly security scans and dependency audits
- **Deployment pipeline**: Lighthouse performance reports

### Manual Generation

Generate reports manually using Make targets:

```bash
# Generate all security reports
make security-scan

# Generate coverage report
make test-coverage

# Generate Lighthouse report (requires running server)
make lighthouse-audit
```

## 📁 File Management

### Retention Policy

- **Security reports**: Keep last 30 days
- **Coverage reports**: Keep last 10 runs
- **Lighthouse reports**: Keep last 5 deployments
- **Audit logs**: Keep last 90 days

### Cleanup

Reports are automatically cleaned up by:

- **Pre-commit hook**: Removes reports older than retention policy
- **CI/CD cleanup step**: Archives old reports before generating new ones
- **Manual cleanup**: `make clean-reports`

## 🚨 Alert Thresholds

### Security Alerts

- **Critical vulnerabilities**: Immediate Slack/email notification
- **High severity**: Daily digest email
- **New dependency vulnerabilities**: Weekly summary report

### Quality Alerts

- **Coverage drop > 5%**: Block PR merge
- **Lighthouse score < 90**: Warning in PR comments
- **Failed security scans**: Block deployment

## 📊 Report Integration

### External Services

Reports are integrated with:

- **Codecov**: Automatic coverage.xml upload
- **GitHub Security**: Bandit and pip-audit results
- **Slack**: Critical security alert notifications
- **Dashboard**: Real-time metrics display

### Access Control

- **Public**: Coverage and Lighthouse reports
- **Team only**: Security scan summaries
- **Maintainers only**: Detailed vulnerability reports
- **Admin only**: Full audit logs and sensitive security data

## 🔧 Configuration

### Report Formats

Configure report formats in:

- `.pre-commit-config.yaml`: Pre-commit report settings
- `pytest.ini`: Coverage report configuration
- `Makefile`: Manual report generation targets
- `.github/workflows/`: CI/CD report integration

### Customization

Customize report generation:

- **Security thresholds**: Adjust severity levels in tool configs
- **Coverage targets**: Set minimum coverage requirements
- **Performance budgets**: Configure Lighthouse thresholds
- **Retention policies**: Modify cleanup schedules

---

## 📝 Usage Examples

### View Latest Security Report

```bash
# View Bandit security analysis
cat reports/bandit-report.json | jq '.results[] | select(.issue_severity=="HIGH")'

# Check dependency vulnerabilities
cat reports/pip-audit-report.json | jq '.vulnerabilities[]'
```

### Generate Custom Reports

```bash
# Security report with custom output
bandit -r app/ -f json -o reports/custom-security-$(date +%Y%m%d).json

# Coverage with HTML output
pytest --cov=app --cov-report=html:reports/coverage-html/
```

### Monitor Report Health

```bash
# Check if reports are up to date
find reports/ -name "*.json" -mtime +1 -exec ls -la {} \;

# Validate report formats
for report in reports/*.json; do jq . "$report" > /dev/null && echo "$report: valid" || echo "$report: invalid"; done
```

---

_This directory and its contents are automatically managed by the development pipeline. Manual modifications may be overwritten._
